set(SRCROOT
    "${SRC_DIR}/buildnumber_mp.cpp"
    "${SRC_DIR}/buildnumber_mp.h"
)
source_group("." FILES ${SRCROOT})

set(BGAME
    "${SRC_DIR}/bgame/bg_animation_mp.cpp"
    "${SRC_DIR}/bgame/bg_jump.cpp"
    "${SRC_DIR}/bgame/bg_local.h"
    "${SRC_DIR}/bgame/bg_mantle.cpp"
    "${SRC_DIR}/bgame/bg_misc.cpp"
    "${SRC_DIR}/bgame/bg_misctables.cpp"
    "${SRC_DIR}/bgame/bg_perks_mp.cpp"
    "${SRC_DIR}/bgame/bg_pmove.cpp"
    "${SRC_DIR}/bgame/bg_public.h"
    "${SRC_DIR}/bgame/bg_slidemove.cpp"
    "${SRC_DIR}/bgame/bg_vehicles_mp.cpp"
    "${SRC_DIR}/bgame/bg_weapons.cpp"
    "${SRC_DIR}/bgame/bg_weapons.h"
    "${SRC_DIR}/bgame/bg_weapons_load_obj.cpp"
)
source_group("bgame" FILES ${BGAME})

set(COMMON
    "${SRC_DIR}/common/brush.h"
    "${SRC_DIR}/common/brush_edges.cpp"
)
source_group("common" FILES ${COMMON})

set(DATABASE
    "${SRC_DIR}/database/database.h"
    "${SRC_DIR}/database/db_assetnames.cpp"
    "${SRC_DIR}/database/db_auth.cpp"
    "${SRC_DIR}/database/db_file_load.cpp"
    "${SRC_DIR}/database/db_load.cpp"
    "${SRC_DIR}/database/db_memory.cpp"
    "${SRC_DIR}/database/db_registry.cpp"
    "${SRC_DIR}/database/db_stream.cpp"
    "${SRC_DIR}/database/db_stream_load.cpp"
    "${SRC_DIR}/database/db_stringtable_load.cpp"
)
source_group("database" FILES ${DATABASE})

set(GAME
    "${SRC_DIR}/game/bullet.cpp"
    "${SRC_DIR}/game/bullet.h"
    "${SRC_DIR}/game/enthandle.cpp"
    "${SRC_DIR}/game/enthandle.h"
    "${SRC_DIR}/game/game_public.h"
    "${SRC_DIR}/game/g_bsp.cpp"
    "${SRC_DIR}/game/g_client_fields.cpp"
    "${SRC_DIR}/game/g_debug.cpp"
    "${SRC_DIR}/game/g_helicopter.cpp"
    "${SRC_DIR}/game/g_hudelem.cpp"
    "${SRC_DIR}/game/g_items.cpp"
    "${SRC_DIR}/game/g_load_utils.cpp"
    "${SRC_DIR}/game/g_missile.cpp"
    "${SRC_DIR}/game/g_mover.cpp"
    "${SRC_DIR}/game/g_scr_mover.cpp"
    "${SRC_DIR}/game/g_scr_vehicle.cpp"
    "${SRC_DIR}/game/g_svcmds.cpp"
    "${SRC_DIR}/game/g_weapon.cpp"
    "${SRC_DIR}/game/g_weapon_load_obj.cpp"
)
source_group("game" FILES ${GAME})

set(GAME_MP
    "${SRC_DIR}/game_mp/g_active_mp.cpp"
    "${SRC_DIR}/game_mp/g_client_mp.cpp"
    "${SRC_DIR}/game_mp/g_client_script_cmd_mp.cpp"
    "${SRC_DIR}/game_mp/g_cmds_mp.cpp"
    "${SRC_DIR}/game_mp/g_combat_mp.cpp"
    "${SRC_DIR}/game_mp/g_main_mp.cpp"
    "${SRC_DIR}/game_mp/g_main_mp.h"
    "${SRC_DIR}/game_mp/g_misc_mp.cpp"
    "${SRC_DIR}/game_mp/g_player_corpse_mp.cpp"
    "${SRC_DIR}/game_mp/g_public_mp.h"
    "${SRC_DIR}/game_mp/g_scr_helicopter.cpp"
    "${SRC_DIR}/game_mp/g_scr_main_mp.cpp"
    "${SRC_DIR}/game_mp/g_spawn_mp.cpp"
    "${SRC_DIR}/game_mp/g_trigger_mp.cpp"
    "${SRC_DIR}/game_mp/g_utils_mp.cpp"
    "${SRC_DIR}/game_mp/g_utils_mp.h"
    "${SRC_DIR}/game_mp/g_vehicles_mp.cpp"
    "${SRC_DIR}/game_mp/player_use_mp.cpp"
)
source_group("game_mp" FILES ${GAME_MP})

set(ODE
    "${SRC_DIR}/ode/collision.h"
    "${SRC_DIR}/ode/collision_space.h"
    "${SRC_DIR}/ode/collision_trimesh.h"
    "${SRC_DIR}/ode/common.h"
    "${SRC_DIR}/ode/compatibility.h"
    "${SRC_DIR}/ode/config.h"
    "${SRC_DIR}/ode/contact.h"
    "${SRC_DIR}/ode/error.h"
    "${SRC_DIR}/ode/export-dif.h"
    "${SRC_DIR}/ode/mass.h"
    "${SRC_DIR}/ode/matrix.h"
    "${SRC_DIR}/ode/memory.h"
    "${SRC_DIR}/ode/misc.h"
    "${SRC_DIR}/ode/objects.h"
    "${SRC_DIR}/ode/ode.h"
    "${SRC_DIR}/ode/odecpp.h"
    "${SRC_DIR}/ode/odecpp_collision.h"
    "${SRC_DIR}/ode/odecpp_old.h"
    "${SRC_DIR}/ode/odemath.h"
    "${SRC_DIR}/ode/rotation.h"
    "${SRC_DIR}/ode/timer.h"
)
source_group("ode" FILES ${ODE})

set(PHYSICS
    "${SRC_DIR}/physics/physpreset_load_obj.cpp"
    "${SRC_DIR}/physics/phys_coll_boxbrush.cpp"
    "${SRC_DIR}/physics/phys_coll_capsulebrush.cpp"
    "${SRC_DIR}/physics/phys_coll_cylinderbrush.cpp"
    "${SRC_DIR}/physics/phys_coll_local.h"
    "${SRC_DIR}/physics/phys_contacts.cpp"
    "${SRC_DIR}/physics/phys_local.h"
    "${SRC_DIR}/physics/phys_ode.cpp"
    "${SRC_DIR}/physics/phys_world_collision.cpp"
)
source_group("physics" FILES ${PHYSICS})

set(PHYSICS_ODE
    "${SRC_DIR}/physics/ode/collision_kernel.cpp"
    "${SRC_DIR}/physics/ode/collision_kernel.h"
    "${SRC_DIR}/physics/ode/collision_quadtreespace.cpp"
    "${SRC_DIR}/physics/ode/collision_space.cpp"
    "${SRC_DIR}/physics/ode/collision_space_internal.h"
    "${SRC_DIR}/physics/ode/collision_std.cpp"
    "${SRC_DIR}/physics/ode/collision_std.h"
    "${SRC_DIR}/physics/ode/collision_transform.cpp"
    "${SRC_DIR}/physics/ode/collision_transform.h"
    "${SRC_DIR}/physics/ode/collision_trimesh_box.cpp"
    "${SRC_DIR}/physics/ode/collision_trimesh_internal.h"
    "${SRC_DIR}/physics/ode/collision_trimesh_KISAK.h"
    "${SRC_DIR}/physics/ode/collision_util.cpp"
    "${SRC_DIR}/physics/ode/collision_util.h"
    "${SRC_DIR}/physics/ode/error.cpp"
    "${SRC_DIR}/physics/ode/export-dif.cpp"
    "${SRC_DIR}/physics/ode/fastdot.c"
    "${SRC_DIR}/physics/ode/fastldlt.c"
    "${SRC_DIR}/physics/ode/fastlsolve.c"
    "${SRC_DIR}/physics/ode/fastltsolve.c"
    "${SRC_DIR}/physics/ode/joint.cpp"
    "${SRC_DIR}/physics/ode/joint.h"
    "${SRC_DIR}/physics/ode/mass.cpp"
    "${SRC_DIR}/physics/ode/matrix.cpp"
    "${SRC_DIR}/physics/ode/objects.h"
    "${SRC_DIR}/physics/ode/obstack.h"
    "${SRC_DIR}/physics/ode/ode.cpp"
    "${SRC_DIR}/physics/ode/odemath.cpp"
    "${SRC_DIR}/physics/ode/quickstep.cpp"
    "${SRC_DIR}/physics/ode/quickstep.h"
    "${SRC_DIR}/physics/ode/rotation.cpp"
    "${SRC_DIR}/physics/ode/stack.h"
    "${SRC_DIR}/physics/ode/timer.cpp"
    "${SRC_DIR}/physics/ode/util.cpp"
    "${SRC_DIR}/physics/ode/util.h"
)
source_group("physics/ode" FILES ${PHYSICS_ODE})

set(QCOMMON
    "${SRC_DIR}/qcommon/bitarray.h"
    "${SRC_DIR}/qcommon/cmd.cpp"
    "${SRC_DIR}/qcommon/cmd.h"
    "${SRC_DIR}/qcommon/cm_load.cpp"
    "${SRC_DIR}/qcommon/cm_mesh.cpp"
    "${SRC_DIR}/qcommon/cm_showcollision.cpp"
    "${SRC_DIR}/qcommon/cm_staticmodel.cpp"
    "${SRC_DIR}/qcommon/cm_test.cpp"
    "${SRC_DIR}/qcommon/cm_trace.cpp"
    "${SRC_DIR}/qcommon/cm_tracebox.cpp"
    "${SRC_DIR}/qcommon/cm_world.cpp"
    "${SRC_DIR}/qcommon/common.cpp"
    "${SRC_DIR}/qcommon/com_bsp.cpp"
    "${SRC_DIR}/qcommon/com_bsp.h"
    "${SRC_DIR}/qcommon/com_bsp_load_obj.cpp"
    "${SRC_DIR}/qcommon/com_fileaccess.cpp"
    "${SRC_DIR}/qcommon/com_fileaccess.h"
    "${SRC_DIR}/qcommon/com_pack.cpp"
    "${SRC_DIR}/qcommon/com_pack.h"
    "${SRC_DIR}/qcommon/com_profilemapload.cpp"
    "${SRC_DIR}/qcommon/dl_main.cpp"
    "${SRC_DIR}/qcommon/dl_main.h"
    "${SRC_DIR}/qcommon/dobj_management.cpp"
    "${SRC_DIR}/qcommon/ent.h"
    "${SRC_DIR}/qcommon/files.cpp"
    "${SRC_DIR}/qcommon/files.h"
    "${SRC_DIR}/qcommon/graph.cpp"
    "${SRC_DIR}/qcommon/graph.h"
    "${SRC_DIR}/qcommon/huffman.cpp"
    "${SRC_DIR}/qcommon/huffman.h"
    "${SRC_DIR}/qcommon/md4.cpp"
    "${SRC_DIR}/qcommon/md4.h"
    "${SRC_DIR}/qcommon/mem_track.cpp"
    "${SRC_DIR}/qcommon/mem_track.h"
    "${SRC_DIR}/qcommon/msg_mp.cpp"
    "${SRC_DIR}/qcommon/msg_mp.h"
    "${SRC_DIR}/qcommon/net_chan_mp.cpp"
    "${SRC_DIR}/qcommon/net_chan_mp.h"
    "${SRC_DIR}/qcommon/qcommon.h"
    "${SRC_DIR}/qcommon/sv_msg_write_mp.cpp"
    "${SRC_DIR}/qcommon/sv_msg_write_mp.h"
    "${SRC_DIR}/qcommon/threads.cpp"
    "${SRC_DIR}/qcommon/threads.h"
    "${SRC_DIR}/qcommon/threads_interlock.h"
    "${SRC_DIR}/qcommon/unzip.cpp"
    "${SRC_DIR}/qcommon/unzip.h"
)
source_group("qcommon" FILES ${QCOMMON})

set(SCRIPT
    "${SRC_DIR}/script/scr_animtree.cpp"
    "${SRC_DIR}/script/scr_animtree.h"
    "${SRC_DIR}/script/scr_compiler.h"
    "${SRC_DIR}/script/scr_compiler2.cpp"
    "${SRC_DIR}/script/scr_const.cpp"
    "${SRC_DIR}/script/scr_const.h"
    "${SRC_DIR}/script/scr_evaluate.cpp"
    "${SRC_DIR}/script/scr_evaluate.h"
    "${SRC_DIR}/script/scr_main.cpp"
    "${SRC_DIR}/script/scr_main.h"
    "${SRC_DIR}/script/scr_memorytree.cpp"
    "${SRC_DIR}/script/scr_memorytree.h"
    "${SRC_DIR}/script/scr_parser.cpp"
    "${SRC_DIR}/script/scr_parser.h"
    "${SRC_DIR}/script/scr_parsetree.cpp"
    "${SRC_DIR}/script/scr_parsetree.h"
    "${SRC_DIR}/script/scr_stringlist.cpp"
    "${SRC_DIR}/script/scr_stringlist.h"
    "${SRC_DIR}/script/scr_variable.cpp"
    "${SRC_DIR}/script/scr_variable.h"
    "${SRC_DIR}/script/scr_vm.cpp"
    "${SRC_DIR}/script/scr_vm.h"
    "${SRC_DIR}/script/scr_yacc.h"
    "${SRC_DIR}/script/scr_yacc2.cpp"
    "${SRC_DIR}/script/scr_yacc_structs.h"
)
source_group("script" FILES ${SCRIPT})

set(SERVER
    "${SRC_DIR}/server/sv_game.cpp"
    "${SRC_DIR}/server/sv_game.h"
    "${SRC_DIR}/server/sv_world.cpp"
    "${SRC_DIR}/server/sv_world.h"
)
source_group("server" FILES ${SERVER})

set(SERVER_MP
    "${SRC_DIR}/server_mp/server.h"
    "${SRC_DIR}/server_mp/sv_archive_mp.cpp"
    "${SRC_DIR}/server_mp/sv_ccmds_mp.cpp"
    "${SRC_DIR}/server_mp/sv_client_mp.cpp"
    "${SRC_DIR}/server_mp/sv_init_mp.cpp"
    "${SRC_DIR}/server_mp/sv_main_mp.cpp"
    "${SRC_DIR}/server_mp/sv_main_pc_mp.cpp"
    "${SRC_DIR}/server_mp/sv_net_chan_mp.cpp"
    "${SRC_DIR}/server_mp/sv_snapshot_mp.cpp"
    "${SRC_DIR}/server_mp/sv_snapshot_profile_mp.cpp"
    "${SRC_DIR}/server_mp/sv_voice_mp.cpp"
    "${SRC_DIR}/server_mp/ucmds.cpp"
)
source_group("server_mp" FILES ${SERVER_MP})

set(STRINGED
    "${SRC_DIR}/stringed/stringed_hooks.cpp"
    "${SRC_DIR}/stringed/stringed_hooks.h"
    "${SRC_DIR}/stringed/stringed_ingame.cpp"
    "${SRC_DIR}/stringed/stringed_ingame.h"
)
source_group("stringed" FILES ${STRINGED})

set(UNIVERSAL
    "${SRC_DIR}/universal/aabbtree.cpp"
    "${SRC_DIR}/universal/aabbtree.h"
    "${SRC_DIR}/universal/assertive.cpp"
    "${SRC_DIR}/universal/assertive.h"
    "${SRC_DIR}/universal/com_constantconfigstrings.cpp"
    "${SRC_DIR}/universal/com_constantconfigstrings.h"
    "${SRC_DIR}/universal/com_convexhull.cpp"
    "${SRC_DIR}/universal/com_convexhull.h"
    "${SRC_DIR}/universal/com_files.cpp"
    "${SRC_DIR}/universal/com_files.h"
    "${SRC_DIR}/universal/com_loadutils.cpp"
    "${SRC_DIR}/universal/com_math.cpp"
    "${SRC_DIR}/universal/com_math.h"
    "${SRC_DIR}/universal/com_math_anglevectors.cpp"
    "${SRC_DIR}/universal/com_memory.cpp"
    "${SRC_DIR}/universal/com_memory.h"
    "${SRC_DIR}/universal/com_shared.cpp"
    "${SRC_DIR}/universal/com_sndalias.h"
    "${SRC_DIR}/universal/com_stringtable.cpp"
    "${SRC_DIR}/universal/dvar.cpp"
    "${SRC_DIR}/universal/dvar_cmds.cpp"
    "${SRC_DIR}/universal/fft.cpp"
    "${SRC_DIR}/universal/fft.h"
    "${SRC_DIR}/universal/memfile.cpp"
    "${SRC_DIR}/universal/memfile.h"
    "${SRC_DIR}/universal/physicalmemory.cpp"
    "${SRC_DIR}/universal/physicalmemory.h"
    "${SRC_DIR}/universal/pool_allocator.cpp"
    "${SRC_DIR}/universal/pool_allocator.h"
    "${SRC_DIR}/universal/profile.cpp"
    "${SRC_DIR}/universal/profile.h"
    "${SRC_DIR}/universal/q_parse.cpp"
    "${SRC_DIR}/universal/q_parse.h"
    "${SRC_DIR}/universal/q_shared.cpp"
    "${SRC_DIR}/universal/q_shared.h"
    "${SRC_DIR}/universal/surfaceflags.cpp"
    "${SRC_DIR}/universal/surfaceflags.h"
    "${SRC_DIR}/universal/timing.cpp"
    "${SRC_DIR}/universal/timing.h"
    "${SRC_DIR}/universal/win_common.cpp"
    "${SRC_DIR}/universal/win_shared.cpp"
)
source_group("universal" FILES ${UNIVERSAL})

set(WIN32
    "${SRC_DIR}/win32/win_configure.cpp"
    "${SRC_DIR}/win32/win_configure.h"
    "${SRC_DIR}/win32/win_input.cpp"
    "${SRC_DIR}/win32/win_input.h"
    "${SRC_DIR}/win32/win_local.h"
    "${SRC_DIR}/win32/win_localize.cpp"
    "${SRC_DIR}/win32/win_localize.h"
    "${SRC_DIR}/win32/win_main.cpp"
    "${SRC_DIR}/win32/win_net.cpp"
    "${SRC_DIR}/win32/win_net.h"
    "${SRC_DIR}/win32/win_net_debug.cpp"
    "${SRC_DIR}/win32/win_net_debug.h"
    "${SRC_DIR}/win32/win_syscon.cpp"
    "${SRC_DIR}/win32/win_wndproc.cpp"
)
source_group("win32" FILES ${WIN32})

set(XANIM
    "${SRC_DIR}/xanim/dobj.cpp"
    "${SRC_DIR}/xanim/dobj.h"
    "${SRC_DIR}/xanim/dobj_skel.cpp"
    "${SRC_DIR}/xanim/dobj_utils.cpp"
    "${SRC_DIR}/xanim/dobj_utils.h"
    "${SRC_DIR}/xanim/xanim.cpp"
    "${SRC_DIR}/xanim/xanim.h"
    "${SRC_DIR}/xanim/xanim_calc.cpp"
    "${SRC_DIR}/xanim/xanim_calc.h"
    "${SRC_DIR}/xanim/xanim_load_db.h"
    "${SRC_DIR}/xanim/xanim_public.h"
    "${SRC_DIR}/xanim/xmodel.cpp"
    "${SRC_DIR}/xanim/xmodel.h"
    "${SRC_DIR}/xanim/xmodel_load_phys_collmap.cpp"
    "${SRC_DIR}/xanim/xmodel_utils.cpp"
)
source_group("xanim" FILES ${XANIM})

set(ZLIB
    "${SRC_DIR}/zlib/adler32.c"
    "${SRC_DIR}/zlib/compress.c"
    "${SRC_DIR}/zlib/crc32.c"
    "${SRC_DIR}/zlib/deflate.c"
    "${SRC_DIR}/zlib/deflate.h"
    "${SRC_DIR}/zlib/gzio.c"
    "${SRC_DIR}/zlib/infblock.c"
    "${SRC_DIR}/zlib/infblock.h"
    "${SRC_DIR}/zlib/infcodes.c"
    "${SRC_DIR}/zlib/infcodes.h"
    "${SRC_DIR}/zlib/inffast.c"
    "${SRC_DIR}/zlib/inffast.h"
    "${SRC_DIR}/zlib/inffixed.h"
    "${SRC_DIR}/zlib/inflate.c"
    "${SRC_DIR}/zlib/inftrees.c"
    "${SRC_DIR}/zlib/inftrees.h"
    "${SRC_DIR}/zlib/infutil.c"
    "${SRC_DIR}/zlib/infutil.h"
    "${SRC_DIR}/zlib/maketree.c"
    "${SRC_DIR}/zlib/trees.c"
    "${SRC_DIR}/zlib/trees.h"
    "${SRC_DIR}/zlib/uncompr.c"
    "${SRC_DIR}/zlib/zconf.h"
    "${SRC_DIR}/zlib/zlib.h"
    "${SRC_DIR}/zlib/zutil.c"
    "${SRC_DIR}/zlib/zutil.h"
)
source_group("zlib" FILES ${ZLIB})

set(ZLIB32
    "${SRC_DIR}/zlib32/deflate.cpp"
    "${SRC_DIR}/zlib32/deflate.h"
    "${SRC_DIR}/zlib32/inflate.cpp"
    "${SRC_DIR}/zlib32/inflate.h"
    "${SRC_DIR}/zlib32/zip.h"
    "${SRC_DIR}/zlib32/zipcommon.cpp"
)
source_group("zlib32" FILES ${ZLIB32})

add_executable( ${BIN_NAME} ${SRCROOT} ${BGAME} ${COMMON} ${DATABASE} ${GAME} ${GAME_MP} ${ODE} ${PHYSICS} ${PHYSICS_ODE} ${QCOMMON} ${SCRIPT} ${SERVER} ${SERVER_MP} ${STRINGED} ${UNIVERSAL} ${WIN32} ${XANIM} ${ZLIB} ${ZLIB32})
